<!DOCTYPE html>
<!-- TODO Switch tabs to spaces -->
<!-- TODO Change layout to a table with all of the different style I support -->
<!-- TODO Include disclaimer about underlines -->
<!-- TODO Include disclaimer about default link styling, and how it needs to be --
  -- specified -->
<html>
  <head>
    <style>
      body {
	  margin: 0;
	  padding: 0;
      }
      
      #webfont-email { 
	  font: 26pt Tangerine;
      }

      a {
	  color: blue;
	  text-decoration: underline;
      }
      
      ul {
	  list-style-type: none;
	  padding: 0;
	  margin: 0 auto;
	  max-width: 60em;
      }
      
      li {
	  padding: 1em;
	  margin: 1em 0 0 0;
	  /* TODO Move image into repo and get rights to use? */
	  background: url("http://sageartsstudio.com/wp/wp-content/uploads/2012/10/Texture_2011_002.jpg");
	  background-size: 100%;
	  font-size: 14pt;
	  box-shadow: 0 0.5em 1em #888;
      }
      
      li:first-child {
	  margin-top: 0;
      }
    </style>
  </head>
  
  <body>
    <ul>
      <li>
	<h3>Normal Email</h3>
	<a href="mailto:user@domain.com">user@domain.com</a>
	<p>This is a plain text email with a mailto link. Pretty standard but
	  it's easily scrapped by spammers.</p>
      </li>
      
      <li>
	<h3>CanvasMail Email</h3>
	<span id="norm-email">Email protected with javascript. Enable it to
	  continue</span>
	<p>canMail with the email text rendered on canvas. This way the email is
	  never in the DOM as plain text. The closest the email is to being in
	  plain text is as a javascript variable in a few function calls. canMail
	  tries its best to pull relevant font styling from the container its in,
	  but it won't pull everything yet. In addition, the canvas font
	  measuring leaves much to be desired and I don't make claims about how
	  well it works between browsers. Also note, that because its rendered on
	  canvas, it doesn't scale well as you zoom in on the page.</p>
      </li>
      
      <li>
	<h3>CanvasMail Linked Email</h3>
	<a id="link-email">Email protected with javascript. Enable it to
	  continue</a>
	<p>You may want the email to have a mailto link so people can copy the
	  email or just click it. canMail only puts the href attribute in the
	  link when a mouseover event is handled, and it removes it on mouseoff,
	  so as to have the email in the DOM as little as possible.</p>
	<p>This solution is courtesy
	  of <a href="http://stackoverflow.com/questions/483212/effective-method-to-hide-email-from-spam-bots/10300743#10300743">this</a>
	  stackoverflow post.</p>
      </li>
      
      <li>
	<h3>CanvasEmail WebFont Email</h3>
	<a id="webfont-email">Email protected with javascript. Enable it to
	  continue</a>
	<p>This API can handle rendering webfonts, but one has to make sure that
	  the email isn't rendered until the webfont is loaded. This can be
	  accomplished with the WebFont loader. See the
	  <a href="https://developers.google.com/webfonts/docs/webfont_loader">API</a>.</p>
	<p>Thanks
	  to <a href="http://creativejs.com/2011/12/day-6-webfonts-canvas/">Creative
	    JS</a> for pointing out how to do this</p>
      </li>
    </ul>
    
    <script src="http://code.jquery.com/jquery-git2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"></script>
    <script src="canvas-mail.js"></script>
    <script>
      $(function() {
          CANVAS_MAIL.render_email($("#norm-email"), "user", "domain.com");
          CANVAS_MAIL.render_email($("#link-email"), "user", "domain.com");
      });
      
      /* WebFont email render must be made after the font is loaded
         This is accomplished with the WebFont loader. */
      WebFont.load({
          google: { families: [ 'Tangerine' ] },
          active: function() {
              CANVAS_MAIL.render_email($("#webfont-email"), "user", "domain.com");
          }
      });
    </script>
  </body>
</html>
